CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 17:39:10.537296' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 17:39:10.544296' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 17:39:10.557498' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 17:39:10.572029' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 17:49:53.545596' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 17:49:53.554593' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 17:49:53.570593' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 17:49:53.586594' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
Not Found: /api/v1/registration/
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 17:51:25.505951' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 17:51:25.512951' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 17:51:25.525951' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 17:51:25.538951' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 17:53:40.143833' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 17:53:40.151830' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 17:53:40.167829' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 17:53:40.182829' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 17:54:02.470450' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 17:54:02.478449' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 17:54:02.492450' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 17:54:02.508447' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 17:55:38.654629' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 17:55:38.663629' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 17:55:38.679632' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 17:55:38.696631' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 17:57:24.876952' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 17:57:24.883938' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 17:57:24.899932' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 17:57:24.915936' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:05:50.230437' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:05:50.239437' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:05:50.256436' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:05:50.272436' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:07:29.432703' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:07:29.439704' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:07:29.456702' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:07:29.471703' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:08:37.485245' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:08:37.493247' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:08:37.508245' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:08:37.522245' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:09:29.110727' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:09:29.117995' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:09:29.131519' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:09:29.144781' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:11:22.852389' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:11:22.860388' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:11:22.875387' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:11:22.891389' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:11:43.648036' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:11:43.655336' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:11:43.669633' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:11:43.683218' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:12:20.911934' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:12:20.918939' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:12:20.933468' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:12:20.946705' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:13:16.671887' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:13:16.680887' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:13:16.696888' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:13:16.711070' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:15:18.436193' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:15:18.447193' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:15:18.466193' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:15:18.484193' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
CREATE TABLE "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
CREATE TABLE "new__django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL, "name" varchar(100) NULL); (params None)
INSERT INTO "new__django_content_type" ("id", "app_label", "model", "name") SELECT "id", "app_label", "model", "name" FROM "django_content_type"; (params ())
DROP TABLE "django_content_type"; (params ())
ALTER TABLE "new__django_content_type" RENAME TO "django_content_type"; (params ())
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model"); (params ())
ALTER TABLE "django_content_type" DROP COLUMN "name"; (params ())
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id"); (params ())
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params ())
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params ())
CREATE TABLE "new__auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL); (params None)
INSERT INTO "new__auth_permission" ("id", "content_type_id", "codename", "name") SELECT "id", "content_type_id", "codename", "name" FROM "auth_permission"; (params ())
DROP TABLE "auth_permission"; (params ())
ALTER TABLE "new__auth_permission" RENAME TO "auth_permission"; (params ())
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename"); (params ())
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params ())
CREATE TABLE "new__auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE); (params None)
INSERT INTO "new__auth_group" ("id", "name") SELECT "id", "name" FROM "auth_group"; (params ())
DROP TABLE "auth_group"; (params ())
ALTER TABLE "new__auth_group" RENAME TO "auth_group"; (params ())
CREATE TABLE "User" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "User_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "dt" datetime NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "ProductParameter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__ProductInfo" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "model" varchar(120) NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "price" integer unsigned NOT NULL CHECK ("price" >= 0), "price_rrc" integer unsigned NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
INSERT INTO "new__ProductInfo" ("id", "model", "quantity", "price", "price_rrc", "product_id", "shop_id") SELECT "id", "model", "quantity", "price", "price_rrc", "product_id", NULL FROM "ProductInfo"; (params ())
DROP TABLE "ProductInfo"; (params ())
ALTER TABLE "new__ProductInfo" RENAME TO "ProductInfo"; (params ())
CREATE UNIQUE INDEX "User_groups_user_id_group_id_d63e199e_uniq" ON "User_groups" ("user_id", "group_id"); (params ())
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params ())
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params ())
CREATE UNIQUE INDEX "User_user_permissions_user_id_permission_id_af0f54ec_uniq" ON "User_user_permissions" ("user_id", "permission_id"); (params ())
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params ())
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params ())
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params ())
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params ())
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params ())
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params ())
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params ())
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params ())
CREATE TABLE "Order_item" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" bigint NOT NULL REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "Category_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" bigint NOT NULL REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" bigint NOT NULL REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "new__Contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone")); (params None)
INSERT INTO "new__Contact" ("id", "city", "street", "house", "structure", "apartment", "phone", "user_id") SELECT "id", "city", "street", "house", "structure", "apartment", "phone", "user_id" FROM "Contact"; (params ())
DROP TABLE "Contact"; (params ())
ALTER TABLE "new__Contact" RENAME TO "Contact"; (params ())
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params ())
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params ())
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params ())
CREATE UNIQUE INDEX "Category_shop_category_id_shop_id_995aba32_uniq" ON "Category_shop" ("category_id", "shop_id"); (params ())
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params ())
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params ())
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params ())
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "action_time" datetime NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "new__django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL); (params None)
INSERT INTO "new__django_admin_log" ("id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time") SELECT "id", "object_id", "object_repr", "action_flag", "change_message", "content_type_id", "user_id", "action_time" FROM "django_admin_log"; (params ())
DROP TABLE "django_admin_log"; (params ())
ALTER TABLE "new__django_admin_log" RENAME TO "django_admin_log"; (params ())
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params ())
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params ())
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "easy_thumbnails_thumbnail_storage_hash_name_source_id_fb375270_uniq" ON "easy_thumbnails_thumbnail" ("storage_hash", "name", "source_id"); (params ())
CREATE UNIQUE INDEX "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" ON "easy_thumbnails_source" ("storage_hash", "name"); (params ())
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params ())
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params ())
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0)); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params ())
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "email" varchar(254) NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "code", "verified", "email") SELECT "id", "code", "verified", "email" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "user_id", "extra_data") SELECT "id", "provider", "uid", "user_id", "extra_data" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL))); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("id", "email", "code", "verified", "timestamp") SELECT "id", "email", "code", "verified", '2023-09-27 18:17:29.638043' FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp") SELECT "id", "token", "next_step", "backend", "data", '2023-09-27 18:17:29.647043' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created") SELECT "id", "provider", "uid", "extra_data", "user_id", '2023-09-27 18:17:29.662044' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", '2023-09-27 18:17:29.677044' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "uid" varchar(255) NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "extra_data", "user_id", "created", "modified", "uid") SELECT "id", "provider", "extra_data", "user_id", "created", "modified", "uid" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE TABLE "new__social_auth_association" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
INSERT INTO "new__social_auth_association" ("server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id") SELECT "server_url", "handle", "secret", "issued", "lifetime", "assoc_type", "id" FROM "social_auth_association"; (params ())
DROP TABLE "social_auth_association"; (params ())
ALTER TABLE "new__social_auth_association" RENAME TO "social_auth_association"; (params ())
CREATE UNIQUE INDEX "social_auth_association_server_url_handle_078befa2_uniq" ON "social_auth_association" ("server_url", "handle"); (params ())
CREATE TABLE "new__social_auth_code" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "email" varchar(254) NOT NULL, "code" varchar(32) NOT NULL, "verified" bool NOT NULL, "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_code" ("email", "code", "verified", "timestamp", "id") SELECT "email", "code", "verified", "timestamp", "id" FROM "social_auth_code"; (params ())
DROP TABLE "social_auth_code"; (params ())
ALTER TABLE "new__social_auth_code" RENAME TO "social_auth_code"; (params ())
CREATE UNIQUE INDEX "social_auth_code_email_code_801b2d02_uniq" ON "social_auth_code" ("email", "code"); (params ())
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params ())
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
INSERT INTO "new__social_auth_nonce" ("server_url", "timestamp", "salt", "id") SELECT "server_url", "timestamp", "salt", "id" FROM "social_auth_nonce"; (params ())
DROP TABLE "social_auth_nonce"; (params ())
ALTER TABLE "new__social_auth_nonce" RENAME TO "social_auth_nonce"; (params ())
CREATE UNIQUE INDEX "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" ON "social_auth_nonce" ("server_url", "timestamp", "salt"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_partial" ("token", "next_step", "backend", "data", "timestamp", "id") SELECT "token", "next_step", "backend", "data", "timestamp", "id" FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("provider", "uid", "extra_data", "user_id", "created", "modified", "id") SELECT "provider", "uid", "extra_data", "user_id", "created", "modified", "id" FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" text NOT NULL CHECK ((JSON_VALID("extra_data") OR "extra_data" IS NULL)), "user_id" bigint NOT NULL REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED, "created" datetime NOT NULL, "modified" datetime NOT NULL, "extra_data_new" text NOT NULL CHECK ((JSON_VALID("extra_data_new") OR "extra_data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_usersocialauth" ("id", "provider", "uid", "extra_data", "user_id", "created", "modified", "extra_data_new") SELECT "id", "provider", "uid", "extra_data", "user_id", "created", "modified", '{}' FROM "social_auth_usersocialauth"; (params ())
DROP TABLE "social_auth_usersocialauth"; (params ())
ALTER TABLE "new__social_auth_usersocialauth" RENAME TO "social_auth_usersocialauth"; (params ())
CREATE UNIQUE INDEX "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" ON "social_auth_usersocialauth" ("provider", "uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params ())
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params ())
CREATE TABLE "new__social_auth_partial" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "token" varchar(32) NOT NULL, "next_step" smallint unsigned NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "timestamp" datetime NOT NULL, "data_new" text NOT NULL CHECK ((JSON_VALID("data_new") OR "data_new" IS NULL))); (params None)
INSERT INTO "new__social_auth_partial" ("id", "token", "next_step", "backend", "data", "timestamp", "data_new") SELECT "id", "token", "next_step", "backend", "data", "timestamp", '{}' FROM "social_auth_partial"; (params ())
DROP TABLE "social_auth_partial"; (params ())
ALTER TABLE "new__social_auth_partial" RENAME TO "social_auth_partial"; (params ())
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params ())
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params ())
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data"; (params ())
ALTER TABLE "social_auth_partial" DROP COLUMN "data"; (params ())
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params ())
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params ())
Not Found: /api/v1/user/1/
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:40:50.236186+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:40:50.295096+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:40:50.360670+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:40:50.370673+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
Not Found: /api/v1/user/1/
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:41:35.134844+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:41:35.201306+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:41:35.250839+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:41:35.260839+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
Not Found: /api/v1/user/1/
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:41:56.499013+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:41:56.550146+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:41:56.615877+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:41:56.625876+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:44:00.613975+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:44:00.672257+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:44:00.736781+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:44:00.747782+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:45:32.534084+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:45:32.596086+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:45:32.676101+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:45:32.686101+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:46:09.468845+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:46:09.559437+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:46:09.640865+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:46:09.652862+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:47:32.620579+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:47:32.698742+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:47:32.779221+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:47:32.790218+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:47:52.798806+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:47:52.857200+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:47:52.922200+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:47:52.934200+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:49:16.037296+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:49:16.088302+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:49:16.153746+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:49:16.163745+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:55:16.248784+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:55:16.311864+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:55:16.392921+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:55:16.402921+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:56:08.810832+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T18:56:08.866653+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T18:56:08.931653+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T18:56:08.942653+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T19:02:45.099152+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T19:02:45.154771+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T19:02:45.259515+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T19:02:45.270516+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T19:03:46.269554+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T19:03:46.329593+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T19:03:46.393942+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T19:03:46.403941+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T19:05:43.406898+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T19:05:43.466162+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T19:05:43.530837+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T19:05:43.541835+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
CREATE TABLE "User" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NULL, "is_superuser" boolean NOT NULL, "first_name" varchar(150) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL, "email" varchar(254) NOT NULL UNIQUE, "username" varchar(50) NOT NULL, "last_name" varchar(50) NOT NULL, "second_name" varchar(50) NOT NULL, "company" varchar(100) NOT NULL, "position" varchar(50) NOT NULL, "image" varchar(100) NOT NULL); (params None)
CREATE TABLE "User_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "User_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" bigint NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "Category" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL); (params None)
CREATE TABLE "Contact" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "city" varchar(50) NULL, "street" varchar(100) NULL, "house" varchar(15) NULL, "structure" varchar(15) NULL, "apartment" varchar(15) NULL, "phone" varchar(20) NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Order" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "dt" timestamp with time zone NOT NULL, "status" varchar(20) NOT NULL, "contact_id" bigint NULL, "user_id" bigint NOT NULL); (params None)
CREATE TABLE "Product" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "slug" varchar(50) NOT NULL, "image" varchar(100) NOT NULL, "category_id" bigint NOT NULL); (params None)
CREATE TABLE "ProductInfo" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "model" varchar(120) NULL, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "price" integer NOT NULL CHECK ("price" >= 0), "price_rrc" integer NULL CHECK ("price_rrc" >= 0), "product_id" bigint NOT NULL); (params None)
CREATE TABLE "Shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "url" varchar(200) NULL, "shop_user_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "ProductParameter" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "value" varchar(100) NOT NULL, "product_info_id" bigint NOT NULL); (params None)
ALTER TABLE "ProductInfo" ADD COLUMN "shop_id" bigint NOT NULL CONSTRAINT "ProductInfo_shop_id_4dd85010_fk_Shop_id" REFERENCES "Shop"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "ProductInfo_shop_id_4dd85010_fk_Shop_id" IMMEDIATE; (params None)
CREATE TABLE "Order_item" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "quantity" integer NOT NULL CHECK ("quantity" >= 0), "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
CREATE TABLE "Category_shop" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "category_id" bigint NOT NULL, "shop_id" bigint NOT NULL); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "unique_contact" UNIQUE ("city", "street", "house", "structure", "apartment", "phone"); (params None)
CREATE INDEX "User_email_667201b5_like" ON "User" ("email" varchar_pattern_ops); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_group_id_d63e199e_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_user_id_8f675f72_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_groups" ADD CONSTRAINT "User_groups_group_id_328392a3_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_groups_user_id_8f675f72" ON "User_groups" ("user_id"); (params None)
CREATE INDEX "User_groups_group_id_328392a3" ON "User_groups" ("group_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_permission_id_af0f54ec_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permissions_user_id_2c6da4d4_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "User_user_permissions" ADD CONSTRAINT "User_user_permission_permission_id_8e998ba4_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "User_user_permissions_user_id_2c6da4d4" ON "User_user_permissions" ("user_id"); (params None)
CREATE INDEX "User_user_permissions_permission_id_8e998ba4" ON "User_user_permissions" ("permission_id"); (params None)
ALTER TABLE "Contact" ADD CONSTRAINT "Contact_user_id_554a2ad1_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Contact_user_id_554a2ad1" ON "Contact" ("user_id"); (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_contact_id_455b24a4_fk_Contact_id" FOREIGN KEY ("contact_id") REFERENCES "Contact" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order" ADD CONSTRAINT "Order_user_id_24066048_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_contact_id_455b24a4" ON "Order" ("contact_id"); (params None)
CREATE INDEX "Order_user_id_24066048" ON "Order" ("user_id"); (params None)
ALTER TABLE "Product" ADD CONSTRAINT "Product_category_id_0a9a7411_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Product_slug_0dfcd407" ON "Product" ("slug"); (params None)
CREATE INDEX "Product_slug_0dfcd407_like" ON "Product" ("slug" varchar_pattern_ops); (params None)
CREATE INDEX "Product_category_id_0a9a7411" ON "Product" ("category_id"); (params None)
ALTER TABLE "ProductInfo" ADD CONSTRAINT "ProductInfo_product_id_f5e6d815_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductInfo_product_id_f5e6d815" ON "ProductInfo" ("product_id"); (params None)
ALTER TABLE "Shop" ADD CONSTRAINT "Shop_shop_user_id_db46edf7_fk_User_id" FOREIGN KEY ("shop_user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "ProductParameter" ADD CONSTRAINT "ProductParameter_product_info_id_d62b3e2b_fk_ProductInfo_id" FOREIGN KEY ("product_info_id") REFERENCES "ProductInfo" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "ProductParameter_product_info_id_d62b3e2b" ON "ProductParameter" ("product_info_id"); (params None)
CREATE INDEX "ProductInfo_shop_id_4dd85010" ON "ProductInfo" ("shop_id"); (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_order_id_d6d0ca68_fk_Order_id" FOREIGN KEY ("order_id") REFERENCES "Order" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_product_id_9995656e_fk_Product_id" FOREIGN KEY ("product_id") REFERENCES "Product" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Order_item" ADD CONSTRAINT "Order_item_shop_id_2719283a_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Order_item_order_id_d6d0ca68" ON "Order_item" ("order_id"); (params None)
CREATE INDEX "Order_item_product_id_9995656e" ON "Order_item" ("product_id"); (params None)
CREATE INDEX "Order_item_shop_id_2719283a" ON "Order_item" ("shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_shop_id_995aba32_uniq" UNIQUE ("category_id", "shop_id"); (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_category_id_4f02989a_fk_Category_id" FOREIGN KEY ("category_id") REFERENCES "Category" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "Category_shop" ADD CONSTRAINT "Category_shop_shop_id_70151c09_fk_Shop_id" FOREIGN KEY ("shop_id") REFERENCES "Shop" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "Category_shop_category_id_4f02989a" ON "Category_shop" ("category_id"); (params None)
CREATE INDEX "Category_shop_shop_id_70151c09" ON "Category_shop" ("shop_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
CREATE TABLE "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" timestamp with time zone NOT NULL, "user_id" bigint NOT NULL UNIQUE); (params None)
ALTER TABLE "authtoken_token" ADD CONSTRAINT "authtoken_token_user_id_35299eff_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "authtoken_token_key_10f0b77e_like" ON "authtoken_token" ("key" varchar_pattern_ops); (params None)
CREATE TABLE "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" timestamp with time zone NOT NULL, "source_id" integer NOT NULL); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thumbnai_storage_hash_name_source_fb375270_uniq" UNIQUE ("storage_hash", "name", "source_id"); (params None)
ALTER TABLE "easy_thumbnails_source" ADD CONSTRAINT "easy_thumbnails_source_storage_hash_name_481ce32d_uniq" UNIQUE ("storage_hash", "name"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9" ON "easy_thumbnails_source" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_source_storage_hash_946cbcc9_like" ON "easy_thumbnails_source" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6" ON "easy_thumbnails_source" ("name"); (params None)
CREATE INDEX "easy_thumbnails_source_name_5fe0edc6_like" ON "easy_thumbnails_source" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "easy_thumbnails_thumbnail" ADD CONSTRAINT "easy_thumbnails_thum_source_id_5b57bc77_fk_easy_thum" FOREIGN KEY ("source_id") REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49" ON "easy_thumbnails_thumbnail" ("storage_hash"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_storage_hash_f1435f49_like" ON "easy_thumbnails_thumbnail" ("storage_hash" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31" ON "easy_thumbnails_thumbnail" ("name"); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_name_b5882c31_like" ON "easy_thumbnails_thumbnail" ("name" varchar_pattern_ops); (params None)
CREATE INDEX "easy_thumbnails_thumbnail_source_id_5b57bc77" ON "easy_thumbnails_thumbnail" ("source_id"); (params None)
CREATE TABLE "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "thumbnail_id" integer NOT NULL UNIQUE, "width" integer NULL CHECK ("width" >= 0), "height" integer NULL CHECK ("height" >= 0)); (params None)
ALTER TABLE "easy_thumbnails_thumbnaildimensions" ADD CONSTRAINT "easy_thumbnails_thum_thumbnail_id_c3a0c549_fk_easy_thum" FOREIGN KEY ("thumbnail_id") REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "social_auth_association" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "handle" varchar(255) NOT NULL, "secret" varchar(255) NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(64) NOT NULL); (params None)
CREATE TABLE "social_auth_code" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "email" varchar(75) NOT NULL, "code" varchar(32) NOT NULL, "verified" boolean NOT NULL); (params None)
CREATE TABLE "social_auth_nonce" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(65) NOT NULL); (params None)
CREATE TABLE "social_auth_usersocialauth" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "provider" varchar(32) NOT NULL, "uid" varchar(255) NOT NULL, "extra_data" jsonb NOT NULL, "user_id" bigint NOT NULL); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_provider_uid_e6b5e668_uniq" UNIQUE ("provider", "uid"); (params None)
ALTER TABLE "social_auth_code" ADD CONSTRAINT "social_auth_code_email_code_801b2d02_uniq" UNIQUE ("email", "code"); (params None)
ALTER TABLE "social_auth_nonce" ADD CONSTRAINT "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq" UNIQUE ("server_url", "timestamp", "salt"); (params None)
CREATE INDEX "social_auth_code_code_a2393167" ON "social_auth_code" ("code"); (params None)
CREATE INDEX "social_auth_code_code_a2393167_like" ON "social_auth_code" ("code" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD CONSTRAINT "social_auth_usersocialauth_user_id_17d28448_fk_User_id" FOREIGN KEY ("user_id") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "social_auth_usersocialauth_user_id_17d28448" ON "social_auth_usersocialauth" ("user_id"); (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "social_auth_association" ADD CONSTRAINT "social_auth_association_server_url_handle_078befa2_uniq" UNIQUE ("server_url", "handle"); (params None)
CREATE TABLE "social_auth_partial" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "token" varchar(32) NOT NULL, "next_step" smallint NOT NULL CHECK ("next_step" >= 0), "backend" varchar(32) NOT NULL, "data" jsonb NOT NULL); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3" ON "social_auth_partial" ("token"); (params None)
CREATE INDEX "social_auth_partial_token_3017fea3_like" ON "social_auth_partial" ("token" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_code" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T19:29:09.348794+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_code_timestamp_176b341f" ON "social_auth_code" ("timestamp"); (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "timestamp" timestamp with time zone DEFAULT '2023-09-27T19:29:09.413609+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "timestamp" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_partial_timestamp_50f2119f" ON "social_auth_partial" ("timestamp"); (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "created" timestamp with time zone DEFAULT '2023-09-27T19:29:09.513649+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "created" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "modified" timestamp with time zone DEFAULT '2023-09-27T19:29:09.525653+00:00'::timestamptz NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "modified" DROP DEFAULT; (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc" ON "social_auth_usersocialauth" ("uid"); (params None)
CREATE INDEX "social_auth_usersocialauth_uid_796e51dc_like" ON "social_auth_usersocialauth" ("uid" varchar_pattern_ops); (params None)
ALTER TABLE "social_auth_association" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_association_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_code" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_code_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_nonce" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_nonce_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_partial_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "id" TYPE bigint USING "id"::bigint; (params None)
ALTER SEQUENCE IF EXISTS "social_auth_usersocialauth_id_seq" AS bigint; (params None)
ALTER TABLE "social_auth_usersocialauth" ADD COLUMN "extra_data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_usersocialauth" ALTER COLUMN "extra_data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_partial" ADD COLUMN "data_new" jsonb DEFAULT '{}' NOT NULL; (params None)
ALTER TABLE "social_auth_partial" ALTER COLUMN "data_new" DROP DEFAULT; (params None)
ALTER TABLE "social_auth_usersocialauth" DROP COLUMN "extra_data" CASCADE; (params None)
ALTER TABLE "social_auth_partial" DROP COLUMN "data" CASCADE; (params None)
ALTER TABLE "social_auth_usersocialauth" RENAME COLUMN "extra_data_new" TO "extra_data"; (params None)
ALTER TABLE "social_auth_partial" RENAME COLUMN "data_new" TO "data"; (params None)
Bad Request: /api/v1/registration/
